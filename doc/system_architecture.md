### 系统架构

#### 系统架构图
![系统架构图](./images/system.jpg)

#### 系统Git项目结构
 - 服务端: [GeckoServer](https://git.1322.com/ljwm/GeckoServer.git)
   - GeckoClientServer：客户相关API服务 (P1)
   - GeckoProviderServer: 服务商相关API服务
   - GeckoAdminServer: 管理服务API服务 （P1）
   - 消息处理服务
 - 微信小程序: [GeckoWxApp](https://git.1322.com/ljwm/GeckoWxApp.git)
   - GeckoClientWxApp: 微信小程序客户版 (P1)
   - GeckoProviderWxApp: 微信小程序服务商版 (待定)
 - PC端WEB页面: [GeckoWeb](https://git.1322.com/ljwm/GeckoWeb.git)
   - GeckoAdminWeb: 管理PC WEB单页面应用
   - GeckoClientWeb: 客户PC WEB 多页面应用
    - index.html 首页
    - company.html 企业管理页面
   - GeckoProviderWeb: 服务商服务管理页面
   
#### 数据模型设计

#####
1. 首页
  - 消息中心
2. 用户登录
3. 用户注册
  - 手机号
4. 用户中心
  - 我的企业
    - 加入企业
    - 创建企业
    - 企业通知
  - 自然人基本信息维护界面
  - 申报记录
5. 管理企业
  - 申报信息汇总页面
  - 一键导出
6. 填报页面
  - 1~8


##### 用户
  - 游客（未注册用户）：t_guest
    - 可使用模块
      - 个税计算器
  - 会员（注册用户）： t_member
    - 来源
      - 手机号注册 
    - 账号（会员账号表）：t_account
  - 小程序用户：t_wx_app_user
    - 不允许获取小程序用户信息，就是游客
    - 允许获取小程序用户信息，未绑定手册号，仍是游客
    - 允许获取小程序用户信息，绑定手机号，是会员

##### 企业
  - 企业 t_company
    - 由会员创建
  - 企业人员 t_company_user 
    - 企业关联会员
      - 管理员：企业的管理员，只能有一个
      - 报税员：负责报税的财务或者人员，可以有多个
      - 审核人：在服务之前审核报税数据，可以没有
      - 普通员工：
      
##### 服务商
  - 个人服务商：t_per_provider
  - 机构服务商：t_org_provider
  
#### 申报记录
  - 申报记录：t_report
  
##### 个税计算器
  - 个税测(估)算记录: t_estimate
  
##### 个税评估

##### 申报
  - 纳税人基本信息表 （纳税人的一些固定信息）
    - 
  - 纳税人企业基本信息表 （）
  - 月度申报
  - 人在公司基本信息

##### 信息录入界面分析
  - 界面1
    - 居民类型
      - 中国大陆居民
      - 港澳台居民
      - 外籍公民
    - 证照类型
      - 证照号码
    - 特定行业
      - 采掘
      - 远洋运输
      - 捕捞等
  - 界面2
    - 申报类型
      - 月度申报
      - 年度申报
  - 界面3
    - 社保缴纳类型
      - 受雇、任职公司
      - 个人自行
    - 受雇/任职公司单位（信息）
      - 公司名称
      - 公司统一社会信用代码
  - 界面4
    - 收入额
      - 综合所得
        - 工资性收入
        - 劳务收入
        - 稿酬收入
        - 特许权使用费收入
      - 利息、股息、红利收入
      - 财产转让所得
      - 财产租赁所得
      - 偶然所得
      - 其他所得
      - 经营所得
  - 界面5
    - 专项扣除：五险一金
      - 基本养老保险
  - 界面6
    - 专项附加扣除
      - 子女教育支出
      - 继续教育支出
      - 住房贷款利息支出
      - 住房租金支出
      - 大病医疗支出
  - 界面7
    - 其它扣除
      - 商业健康保险费
      - 商业养老保险费
      - 年金
      - 远洋运输船员的伙食补贴（有）
  - 界面8
    - 优惠及减免
      - 教育公益等捐赠
        
##### 问题列表
  1. 港澳台居民和外籍公民在国家报税系统中地址是一样的，需要区分吗？
  2. 对于特定行业，可以在公司入驻到我们平台时让你选择所属行业，避免在用户提交时再填写
  3. 证照类型和证照号码可以在会员注册之后或者会员加入企业之后要求其填写，
  或者由企业管理员在邀请他加入时先导入，不需要每次填写
  4. 申报类型可以在发起申报的入口中给出，不用单独做一个页面
  5. 社保缴纳缴纳类型一下
  6. 受雇任务单位信息，在公司入驻到平台进行认证时提供
  7. 劳务收入的报税是不是应该由付款公司来申报？仍然由代扣公司申报
  8. 专项扣除是否只显示三险一金，企业部分需要显示吗？自动显示
  9. 一个人可以在多个企业报税？不可以
  10. 服务商与认证报税员之前的关系？
  
#####
需要确认的问题：

特殊行业的企业是不是所有员工都按特殊行业的方式进行个税申报？


需要提供的内容
  - 企业/单位入驻平台需要提供什么样的数据？比如一般企业需要提供营业执照、纳税代码？事业单位呢？
    - 企业
      - 营业执照，纳税代码（统一社保信用代码）
    - 事业单位
      - 事业单位法人证书，证书代码
    - 社会团队
      - 社会团队法人登记证书，统一社保信用代码
  - 服务商（个人、机构）入驻平台，需要提供什么样的数据，服务商服务的类型有哪些？服务商提供的业务有哪些？
    - 类别: 个人, 企业
    - 证书、证件
    - 认证
      - 企业自动认证 http://www.gsxt.gov.cn/
    - 排序
      - 认证方式
    - 服务内容(10类)
      - 

